[原文链接](https://juejin.cn/post/7166031357418668040)
线上问题大致可以分两类：一类是接口数据导致的，另一类是数据正常，前端哪里疏忽了导致的。

数据不同：本地更多的是用的测试环境的数据，而线上用的真实环境的数据。不同数据，页面的渲染以及交互可能不同；
代码疏忽：可能是某些场景的边界情况没有处理好，再或者是未做容错降级处理等；

💁 模拟线上环境

💣 小型必杀技

上面我们提到，本地没问题，线上有问题，一部分原因就是因为后端数据有问题，这里先祭出一个小型必杀技：Ajax Interceptor。

它是一个谷歌插件，可以拦截页面上的 Ajax 请求，并把返回结果替换成任意文本。这对 mock 数据、排查线上问题 

使用方式：

（1）点击插件图标

（2）把你想要修改的接口 URL 地址复制到输入框中，然后把返回的内容放到下面的文本框

线上不能定位到问题的原因是什么？不就是因为生产环境没有生成和上传 source-map 文件吗！！
那我们直接给线上环境添加上 source-map 文件不就可以了吗？

部分心急的同学请你把刀放下，我并不是说在生产环境上传 source-map 文件。
我的意思是：生产环境 + 本地的 source-map 文件。
这里偷偷告诉大家一个小秘密（99%的人都不知道，勿外传）：谷歌浏览器的 Sources 面板支持右键添加 source-map：

有了方案后，现在只需把生产环境的代码按照如下配置在本地重新打包：
 output:{  path: path.resolve(__dirname, "build2") } //原build文件夹在模拟线上环境，这里改成build2防止影响之前的服务
 devtool:"source-map"

然后用 http-server 起一个静态服务：
npx http-server ./build2

拿到 source-map 的文件链接添加到浏览器中：

👋 总结
本文从一个团队小故事出发，详细讲述了当前端开发者遇到线上问题时的囧境。从以下两个场景剖析，给出了对应的解决方案：

数据不同导致出错：在本地环境下使用 Ajax Interceptor 来模拟线上数据；
代码疏忽导致出错：直接在线上环境添加 source-map 链接来定位问题；
