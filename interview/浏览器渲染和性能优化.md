# 性能优化

## 网络层面

### DNS优化
1.在dns上做缓存减少dns查询时间

### 将静态资源放在CDN服务器上
什么是CDN CDN是如何做到快速返回数据的


### 减少http请求，合并http请求
合并的原则

### 服务器端提供html和http静态资源时最好开启gzip

### http静态资源尽量用多个子域名,减少浏览器域名并发请求限制

### http缓存资源

### prefetch preLoad 区别 作用

## 构建层面

## 服务端层面

## 浏览器渲染层面

页面缓存(例如 vue 的 keep-alive)

模块资源缓存(缓存页面核心模块数据)

模块按需加载(拆分打包，分别请求)

数据请求优化(核心数据和营销不重要数据分开请求)

监控检测(收敛图片、资源加载失败的问题)

### 页面构建流程
1.js外联文件放到body底部，css外联文件放到head内

### 脚本执行顺序和放置顺序

#### async
* async 的设置，会使 script 脚本异步加载并**在允许的情况下执行**。
* 换句话说， async的执行，并不会按着 script 在页面中的顺序来执行，而是谁先加载完谁先执行。
* async 舍弃了 script脚本之间的依赖关系。而是谁先加载完谁先执行。

#### defer
* defer 的设置，会使 script 脚本异步加载；
* 如果有多个 defer属性的script 标签存在，则会按照**顺序执行** 所有script
* defer 脚本会在**文档渲染完后，DOMContentLoaded之前**执行。

# 渲染优化



## 页面构建流程
1.不要一条一条地修改DOM的样式。还不如预先定义好css的class，然后修改DOM的className
2.把DOM离线后修改。如： 使用documentFragment 对象在内存里操作DOM
3.先把DOM给display:none(有一次reflow)，然后你想怎么改就怎么改。比如修改100次，然后再把他显示出来
4.clone一个DOM结点到内存里，然后想怎么改就怎么改，改完后，和在线的那个的交换一下

# 如果页面卡顿，你觉得可能是什么原因造成的？有什么办法锁定原因并解决吗？

* 是否是网络请求太多，导致数据返回较慢，可以适当做一些缓存
* 可能是某块资源的bundle太大，可以考虑拆分一下
* 然后排查一下js代码，是不是某处有过多循环导致占用主线程时间过长
* 浏览器某帧渲染的东西太多，导致的卡顿
* 在页面渲染过程中，可能有很多重复的重排重绘
* 内存泄漏导致浏览器gc时间太长